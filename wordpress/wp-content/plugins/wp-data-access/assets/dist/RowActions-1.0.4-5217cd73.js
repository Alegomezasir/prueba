import{l as r,r as R,j as i,bz as b,e as s,C as a}from"./main-1.0.4.js";import{u as A,J as f,B as V,T as l,a1 as g,H as P,af as T,i as B,V as M}from"./main-1.0.4-3f927327.js";import{C as O}from"./TabPanel-1.0.4-14af6bd6.js";import{d as S}from"./ActionsDml-1.0.4-1a4856d6.js";import{I as p}from"./iconBase-1.0.4-684ba590.js";import"./FormControlLabel-1.0.4-64c2f78b.js";import"./TextField-1.0.4-6b1bbbfd.js";import"./Close-1.0.4-ca2bff70.js";import"./DialogContent-1.0.4-604ea0cd.js";import"./AdminTheme-1.0.4-e85d4fc0.js";import"./CardContent-1.0.4-55ef4296.js";import"./Tabs-1.0.4-276a4db7.js";const X=({metaData:o,appId:n,rowId:e,rowData:u,storeTableSettings:c,showForm:d,refetch:y})=>{var h,j;r.debug(o,n,e,u);const C=A(),[k,m]=R.useState(!1),x=Object.keys(e).length>0,v=c.viewLink,w=!f(o)&&((h=o==null?void 0:o.privs)==null?void 0:h.update)&&c.transactions.update&&x,E=!f(o)&&((j=o==null?void 0:o.privs)==null?void 0:j.delete)&&c.transactions.delete&&x;return i.jsxs(V,{sx:{position:"sticky",display:"grid",gridTemplateColumns:"auto auto auto",justifyContent:"space-around",alignItems:"center",gap:"5px"},children:[v&&i.jsx(l,{title:"View Row",children:i.jsx(p,{color:"primary",onClick:t=>{Object.keys(e).length===0&&C(b({appId:n,data:u,context:null})),d(e,g.VIEW),t.stopPropagation()},children:i.jsx(P,{})})}),w&&i.jsx(l,{title:"Edit Row",children:i.jsx(p,{color:"primary",onClick:t=>{d(e,g.UPDATE),t.stopPropagation()},children:i.jsx(T,{})})}),E&&i.jsxs(i.Fragment,{children:[i.jsx(l,{title:"Delete Row",children:i.jsx(p,{color:"error",onClick:t=>{m(!0),t.stopPropagation()},children:i.jsx(B,{})})}),i.jsx(O,{title:"Delete row?",message:"Are you sure you want to delete this row? This action cannot be undone!",open:k,setOpen:m,onConfirm:()=>{S(n,e,t=>{if(t!=null&&t.code&&(t!=null&&t.message))switch(t.code){case"ok":s(t.message,{variant:"success"}),y();break;default:r.error(t),s(t.message??a.contactSupport,{variant:"error"})}else r.error(t),s(a.contactSupport,{variant:"error"})},t=>{r.error("error",t),s(t??a.contactSupport,{variant:"error"})})},theme:M})]})]})};export{X as default};
