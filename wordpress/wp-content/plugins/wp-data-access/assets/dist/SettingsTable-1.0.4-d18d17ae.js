import{j as e,a$ as O,aG as F,l as g,bH as J,bn as M,bl as L,r as I,bI as P,bJ as G,w as B}from"./main-1.0.4.js";import{u as Q,M as v,a3 as Z,B as R,J as T,K as W,a4 as K}from"./main-1.0.4-3f927327.js";import{u as $}from"./useStoreTable-1.0.4-d7e93f06.js";import{u as X}from"./useTableUpdater-1.0.4-77e86903.js";import{c as D}from"./index-1.0.4-6dbd728b.js";import{A as k,a as w,b as A}from"./AccordionSummary-1.0.4-dffa253b.js";import{F as u,a as t,T as Y,S as q,M as S,A as ee}from"./TextField-1.0.4-6b1bbbfd.js";import{R as U}from"./RadioGroup-1.0.4-078a1a14.js";import{F as a}from"./FormControlLabel-1.0.4-64c2f78b.js";import{R as E}from"./Radio-1.0.4-bd38ebb7.js";import{S as f}from"./TabPanel-1.0.4-14af6bd6.js";import{D as re,T as se,a as N,C as V}from"./CssUnitTextField-1.0.4-c752a7df.js";import{f as oe,g as ne}from"./index.esm-1.0.4-1e92c0c7.js";import{M as b}from"./MenuItem-1.0.4-50d14a51.js";import{I as le}from"./iconBase-1.0.4-684ba590.js";import{P as _}from"./PremiumFeature-1.0.4-532b0a19.js";import"./vi-1.0.4-f5e66e81.js";import"./Close-1.0.4-ca2bff70.js";import"./useSlot-1.0.4-77de692c.js";import"./DialogContent-1.0.4-604ea0cd.js";import"./AdminTheme-1.0.4-e85d4fc0.js";import"./CardContent-1.0.4-55ef4296.js";import"./Tabs-1.0.4-276a4db7.js";import"./colorManipulator-1.0.4-6ca57637.js";import"./Link-1.0.4-4f39d399.js";import"./dayjs.min-1.0.4-2ecacb3f.js";const ie=({appId:r,tableSettings:s,metaData:o,updateTableSettings:i})=>{const l=Q(),d=X(r),p=(x,h)=>{const m=D(s);m.largeTableSupport.saved=x,m.largeTableSupport.actual=h,m.searchSettings.forceEnterOnSearch=h===F.ENABLED,g.debug(m),l(J({appId:r,tableSettings:m})),d(!0)};return e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Large Table Support"}),e.jsxs(A,{children:[e.jsxs(u,{children:[e.jsxs(U,{sx:{flexDirection:"column"},children:[e.jsx(a,{control:e.jsx(E,{checked:(s==null?void 0:s.largeTableSupport.saved)===O.DISABLED,onChange:x=>{p(O.DISABLED,F.DISABLED),x.stopPropagation()}}),value:"disable",label:"Disable large table support"},"disable"),e.jsx(a,{control:e.jsx(E,{checked:(s==null?void 0:s.largeTableSupport.saved)===O.ENABLED,onChange:x=>{p(O.ENABLED,F.ENABLED),x.stopPropagation()}}),value:"enable",label:"Enable large table support"},"enable"),e.jsx(a,{control:e.jsx(E,{checked:(s==null?void 0:s.largeTableSupport.saved)===O.AUTO,onChange:x=>{const h=Z(o);p(O.AUTO,h),x.stopPropagation()}}),value:"auto",label:"Let the server decide (default)"},"auto")]}),e.jsxs(t,{component:"div",sx:{marginTop:"20px",marginBottom:"10px","& ul":{margin:0,padding:"0 0 0 20px"}},children:["Large table support:",e.jsxs("ul",{children:[e.jsx("li",{children:"enables row count estimation"}),e.jsx("li",{children:"requires the user to press enter on search"}),e.jsx("li",{children:"sets pagination to compact"}),e.jsx("li",{children:"removes the last page pagination button"}),e.jsx("li",{children:"reduce network traffic and server load"})]})]})]}),e.jsxs("fieldset",{className:"pp-fieldset",style:{display:s.largeTableSupport.actual===F.DISABLED?"none":"block",marginTop:"20px",padding:"20px"},children:[e.jsx("legend",{children:"Additional large table support settings"}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(a,{control:e.jsx(f,{checked:s.largeTableSupport.skipCount,onChange:(x,h)=>{i("largeTableSupport.skipCount",h),x.stopPropagation()}}),label:"Skip row count on filter updates"}),e.jsx(t,{children:"Skips all SQL count statements. Can boost performance for large tables dramatically. Results in a poorer user feedback."})]})]}),e.jsx(u,{fullWidth:!0,sx:{marginTop:"20px"},children:e.jsx(t,{children:"Reload table or page after changing large table support settings to apply the correct row count"})})]})]})},de=({tableSettings:r,updateTableSettings:s})=>{var o,i;return e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Responsiveness"}),e.jsx(A,{children:e.jsxs(u,{children:[e.jsxs(U,{sx:{flexDirection:"row"},children:[e.jsx(a,{control:e.jsx(E,{checked:((o=r==null?void 0:r.design)==null?void 0:o.overflow)===M.RESPONSIVE,onChange:l=>{s("design.overflow",M.RESPONSIVE),l.stopPropagation()}}),value:"responsive",label:"Auto column hiding"},"responsive"),e.jsx(a,{control:e.jsx(E,{checked:((i=r==null?void 0:r.design)==null?void 0:i.overflow)!==M.RESPONSIVE,onChange:l=>{s("design.overflow",M.SCROLL),l.stopPropagation()}}),value:"scroll",label:"Horizontal scrollbar"},"scroll")]}),e.jsx(t,{children:"Behaviour when table content overflows available space"})]})})]})},ce=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Density"}),e.jsxs(A,{children:[e.jsxs(u,{children:[e.jsxs(U,{sx:{display:"grid",gridTemplateColumns:"auto auto auto",alignItems:"center"},children:[e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.design.density.default)===L.COMPACT,onChange:o=>{s("design.density.default",L.COMPACT),o.stopPropagation()}}),value:"compact",label:"Compact"},"compact"),e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.design.density.default)===L.COMFORTABLE,onChange:o=>{s("design.density.default",L.COMFORTABLE),o.stopPropagation()}}),value:"comfortable",label:"Comfortable"},"comfortable"),e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.design.density.default)===L.SPACIOUS,onChange:o=>{s("design.density.default",L.SPACIOUS),o.stopPropagation()}}),value:"spacious",label:"Spacious"},"spacious")]}),e.jsx(t,{children:"Default spacing on page load"})]}),e.jsx(u,{sx:{marginTop:"20px"},children:e.jsx(a,{control:e.jsx(f,{checked:r==null?void 0:r.design.density.userCanChange,onChange:(o,i)=>{s("design.density.userCanChange",i),o.stopPropagation()}}),label:"Allow user to change spacing"})})]})]}),ae=({hasPrimaryKey:r,tableSettings:s,metaData:o,updateTableSettings:i})=>{var l,d,p,x,h,m,j,n,c;return e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Row actions"}),e.jsx(A,{children:e.jsxs(R,{sx:{display:"grid"},children:[((l=o==null?void 0:o.privs)==null?void 0:l.insert)&&r&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((d=o==null?void 0:o.privs)!=null&&d.insert)||!r,checked:(p=s==null?void 0:s.transactions)==null?void 0:p.insert,onChange:(C,y)=>{i("transactions.insert",y),C.stopPropagation()}}),label:"Allow insert"}),e.jsx(t,{children:"Adds an insert button to the table toolbar"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:s==null?void 0:s.viewLink,onChange:(C,y)=>{i("viewLink",y),C.stopPropagation()}}),label:"Allow viewing"}),e.jsx(t,{children:"Adds a view icon to each row"})]}),((x=o==null?void 0:o.privs)==null?void 0:x.update)&&r&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((h=o==null?void 0:o.privs)!=null&&h.update)||!r,checked:(m=s==null?void 0:s.transactions)==null?void 0:m.update,onChange:(C,y)=>{i("transactions.update",y),C.stopPropagation()}}),label:"Allow update"}),e.jsx(t,{children:"Adds an update icon to each table row"})]}),((j=o==null?void 0:o.privs)==null?void 0:j.delete)&&r&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((n=o==null?void 0:o.privs)!=null&&n.delete)||!r,checked:(c=s==null?void 0:s.transactions)==null?void 0:c.delete,onChange:(C,y)=>{i("transactions.delete",y),C.stopPropagation()}}),label:"Allow delete"}),e.jsx(t,{children:"Adds a delete icon to each table row"})]})]})})]})},ue=({appId:r,tableSettings:s,metaData:o,updateTableSettings:i})=>{var l,d,p,x,h,m,j;return e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Bulk actions"}),e.jsx(A,{children:e.jsxs(R,{sx:{display:"grid"},children:[e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!1,disabled:!0,onChange:(n,c)=>{n.stopPropagation()}}),label:"Export to PDF (premium feature)"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!T(o)&&((l=s==null?void 0:s.bulkActions)==null?void 0:l.csv),disabled:T(o),onChange:(n,c)=>{i("bulkActions.csv",c),n.stopPropagation()}}),label:"Export to CSV"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!T(o)&&((d=s==null?void 0:s.bulkActions)==null?void 0:d.json),disabled:T(o),onChange:(n,c)=>{i("bulkActions.json",c),n.stopPropagation()}}),label:"Export to JSON"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!1,disabled:!0,onChange:(n,c)=>{n.stopPropagation()}}),label:"Export to Excel (premium feature)"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!T(o)&&((p=s==null?void 0:s.bulkActions)==null?void 0:p.xml),disabled:T(o),onChange:(n,c)=>{i("bulkActions.xml",c),n.stopPropagation()}}),label:"Export to XML"})}),e.jsx(u,{children:e.jsx(a,{control:e.jsx(f,{checked:!W(r)&&!T(o)&&((x=s==null?void 0:s.bulkActions)==null?void 0:x.sql),disabled:W(r)||T(o),onChange:(n,c)=>{W(r)||i("bulkActions.sql",c),n.stopPropagation()}}),label:"Export to SQL"})}),((h=o==null?void 0:o.privs)==null?void 0:h.delete)&&!T(o)&&e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{disabled:!((m=o==null?void 0:o.privs)!=null&&m.delete)||T(o),checked:!T(o)&&((j=s==null?void 0:s.bulkActions)==null?void 0:j.delete),onChange:(n,c)=>{i("bulkActions.delete",c),n.stopPropagation()}}),label:"Delete"}),e.jsx(t,{children:"Added to BULK ACTIONS button"})]})]})})]})},pe=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Default where"}),e.jsx(A,{children:e.jsxs(u,{fullWidth:!0,children:[e.jsx(Y,{value:r==null?void 0:r.defaultWhere,multiline:!0,fullWidth:!0,minRows:5,variant:"outlined",onClick:o=>{o.stopPropagation()},onChange:o=>{s("defaultWhere",o.target.value)}}),e.jsx(re,{})]})})]}),z=({tableColumns:r,orderByColumn:s,addActions:o,enableAddAction:i,onUpdate:l,onActions:d})=>{g.debug(r,s,o,i);const[p,x]=I.useState(null),h=!!p,m=n=>{x(n.currentTarget),n.stopPropagation()},j=()=>{x(null)};return e.jsxs(R,{sx:{display:"grid",gridTemplateColumns:o?"auto 100px 50px":"auto 100px",gridGap:"5px",marginBottom:"5px"},children:[e.jsxs(q,{value:s.columnName,onChange:n=>{l({...s,columnName:n.target.value})},children:[e.jsx(b,{value:"",children:"Â "}),...r.map(n=>n.computedField!==void 0?null:e.jsx(b,{value:n.columnName,children:n.columnName}))]}),e.jsxs(q,{value:s.order,onChange:n=>{l({...s,order:n.target.value==="desc"?"desc":"asc"})},children:[e.jsx(b,{value:"asc",children:"Asc"}),e.jsx(b,{value:"desc",children:"Desc"})]}),o&&e.jsxs(e.Fragment,{children:[e.jsx(le,{color:"primary",onClick:m,children:e.jsx(K,{})}),e.jsxs(S,{anchorEl:p,open:h,onClose:j,sx:{zIndex:9999999999},anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[i&&e.jsxs(b,{onClick:()=>{d("add"),j()},children:[e.jsx(oe,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Add column"})]}),e.jsxs(b,{onClick:()=>{d("delete"),j()},children:[e.jsx(ne,{}),e.jsx("span",{style:{marginLeft:"10px"},children:"Delete column"})]})]})]})]})},xe=({tableSettings:r,tableColumns:s,updateTableSettings:o})=>{const[i,l]=I.useState(r.defaultOrderBy.length===0);return e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Default order by"}),e.jsxs(A,{children:[Array.isArray(r.defaultOrderBy)&&e.jsxs(e.Fragment,{children:[...r.defaultOrderBy.map((d,p)=>e.jsx(z,{tableColumns:s,orderByColumn:r.defaultOrderBy[p],addActions:!0,enableAddAction:r.defaultOrderBy.length===p+1&&!i,onUpdate:x=>{const h=[...r.defaultOrderBy];h[p]=x,o("defaultOrderBy",h)},onActions:x=>{if(x==="add")l(!0);else if(x==="delete"){const h=[...r.defaultOrderBy];h.splice(p,1),o("defaultOrderBy",h),l(h.length===0)}}},p))]}),i&&e.jsx(z,{tableColumns:s,orderByColumn:{columnName:"",order:"asc"},addActions:r.defaultOrderBy.length>0,enableAddAction:!1,onUpdate:d=>{const p=[...r.defaultOrderBy];p.push({columnName:d.columnName,order:d.order}),o("defaultOrderBy",p),l(!1)},onActions:d=>{d==="delete"&&l(!1)}}),e.jsx(u,{fullWidth:!0,children:e.jsx(t,{children:"Defines the default ordering. The user can change the default ordering if sorting is enabled for one or more columns."})})]})]})},he=({tableSettings:r,updateTableSettings:s})=>{var o,i,l,d,p,x,h,m,j;return e.jsxs(e.Fragment,{children:[e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Global Search"}),e.jsxs(A,{children:[e.jsxs(R,{children:[e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(o=r==null?void 0:r.searchSettings)==null?void 0:o.enableGlobalSearch,disabled:!0,onChange:(n,c)=>{g.debug(c),n.stopPropagation()}}),label:"Enable global search"}),e.jsx(t,{children:"Adds a global search box to the data table"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(i=r==null?void 0:r.searchSettings)==null?void 0:i.forceSearch,disabled:!0,onChange:(n,c)=>{g.debug(c),n.stopPropagation()}}),label:"Show empty table on startup"}),e.jsx(t,{children:"Forces user to perform a search"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(l=r==null?void 0:r.searchSettings)==null?void 0:l.highlightMatches,disabled:!0,onChange:(n,c)=>{g.debug(c),n.stopPropagation()}}),label:"Highlight matches"}),e.jsx(t,{children:"Filter match highlighting"})]})]}),e.jsx(_,{single:!1})]})]}),e.jsxs(k,{disableGutters:!0,defaultExpanded:!1,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Column Filters"}),e.jsxs(A,{children:[e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(d=r==null?void 0:r.searchSettings)==null?void 0:d.searchForm,disabled:!0,onChange:(n,c)=>{g.debug(c),n.stopPropagation()}}),label:"Enable column filters"}),e.jsx(t,{children:"Disable to hide all column filters"})]}),((p=r==null?void 0:r.searchSettings)==null?void 0:p.searchForm)===!0&&e.jsxs(e.Fragment,{children:[e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:((x=r==null?void 0:r.searchSettings)==null?void 0:x.searchFormAlwaysOpen)||((h=r==null?void 0:r.searchSettings)==null?void 0:h.forceInline),disabled:!0,onChange:(n,c)=>{g.debug(c),n.stopPropagation()}}),label:"Show column filters on startup"}),e.jsx(t,{children:"Effective after next page load"})]}),e.jsxs(u,{children:[e.jsx(a,{control:e.jsx(f,{checked:(m=r==null?void 0:r.searchSettings)==null?void 0:m.searchFormAlwaysOpen,disabled:!0,onChange:(n,c)=>{g.debug(c),n.stopPropagation()}}),label:"Always show column filters"}),e.jsx(t,{children:"Disable to remove the column filter icon"})]}),e.jsx(R,{sx:{marginTop:"20px"},children:e.jsxs(u,{fullWidth:!0,children:[e.jsxs(se,{fullWidth:!0,color:"primary",exclusive:!0,value:(j=r==null?void 0:r.searchSettings)==null?void 0:j.searchFormPosition,onChange:(n,c)=>{n.stopPropagation()},children:[e.jsx(N,{value:P.TOP,children:"Above"},P.TOP),e.jsx(N,{value:P.RIGHT,children:"Right"},P.RIGHT),e.jsx(N,{value:P.BOTTOM,children:"Below"},P.BOTTOM),e.jsx(N,{value:P.LEFT,children:"Left"},P.LEFT)]}),e.jsx(t,{children:"Position of the column filters relative to the data table"})]})})]})]})]})]})},je=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Pagination"}),e.jsxs(A,{children:[e.jsx(u,{fullWidth:!0,children:e.jsx(a,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showFirstButton,onChange:(o,i)=>{g.debug(o,i)}}),label:"Show first button"})}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(a,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showLastButton&&(r.largeTableSupport.actual===F.DISABLED||r.largeTableSupport.skipCount===!1),onChange:(o,i)=>{g.debug(o,i)}}),label:"Show last button"}),e.jsx(t,{children:"By default disabled with large table support and row count skipping"})]}),e.jsxs(u,{fullWidth:!0,children:[e.jsx(a,{control:e.jsx(f,{disabled:!0,checked:r.pagination.showCompactButtons||r.largeTableSupport.actual===F.ENABLED,onChange:(o,i)=>{g.debug(o,i)}}),label:"Show compact pagination buttons"}),e.jsx(t,{children:"By default enabled when large table support is enabled"})]}),e.jsx(_,{single:!1})]})]}),te=({tableSettings:r,updateTableSettings:s})=>e.jsxs(k,{sx:{display:"none"},disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Processing"}),e.jsx(A,{children:e.jsxs(u,{children:[e.jsxs(U,{sx:{flexDirection:"row"},children:[e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.processing)===G.SERVERSIDE,onChange:o=>{s("processing",G.SERVERSIDE),o.stopPropagation()}}),value:"serverside",label:"Server-side"},"serverside"),e.jsx(a,{control:e.jsx(E,{checked:(r==null?void 0:r.processing)===G.CLIENTSIDE,onChange:o=>{s("processing",G.CLIENTSIDE),o.stopPropagation()}}),value:"clientside",label:"Client-side"},"clientside")]}),e.jsx(t,{children:"Use server-side for large tables and views, use client-side for quick analyses of small tables and views"})]})})]}),fe=({tableSettings:r,updateTableSettings:s})=>{const o=I.useMemo(()=>[{language:"English US",code:"en-US",dayjs:"en"}],[]),i=I.useMemo(()=>r!=null&&r.locale?o.filter(l=>l.code===(r==null?void 0:r.locale))[0]:null,[o,r==null?void 0:r.locale]);return e.jsxs(k,{disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Language"}),e.jsxs(A,{children:[e.jsx(u,{fullWidth:!0,children:e.jsx(ee,{multiple:!1,fullWidth:!0,disablePortal:!0,options:o,disabled:!0,getOptionLabel:l=>l.language,value:i,onChange:(l,d)=>{s("locale",(d==null?void 0:d.code)??"")},renderInput:l=>e.jsx(Y,{...l})})}),e.jsx(_,{})]})]})},ge=({tableSettings:r,metaData:s,updateTableSettings:o})=>{var i;return!((i=s==null?void 0:s.privs)!=null&&i.update)||s.primary_key.length===0?null:e.jsxs(k,{defaultExpanded:!1,disableGutters:!0,children:[e.jsx(w,{expandIcon:e.jsx(v,{}),children:"Inline Field Settings"}),e.jsxs(A,{sx:{display:"grid"},children:[e.jsxs(u,{children:[e.jsxs(U,{value:r.inlineEditing.fieldVariant,sx:{flexDirection:"row"},onChange:l=>{l.stopPropagation()},children:[e.jsx(a,{control:e.jsx(E,{disabled:!0}),value:"outlined",label:"Outlined"},"outlined"),e.jsx(a,{control:e.jsx(E,{disabled:!0}),value:"filled",label:"Filled"},"filled"),e.jsx(a,{control:e.jsx(E,{disabled:!0}),value:"standard",label:"Standard"},"standard")]}),e.jsx(t,{children:"Applies to inline fields only"})]}),e.jsxs(u,{children:[e.jsxs(R,{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"8px",marginTop:"40px",marginBottom:"10px"},children:[e.jsx(V,{label:"Padding top",textField:{cssValue:r.inlineEditing.spacing.fieldTop,cssUnit:r.inlineEditing.spacing.fieldTopUnit},defaultValue:{cssValue:B.table.inlineEditing.spacing.fieldTop,cssUnit:B.table.inlineEditing.spacing.fieldTopUnit},updateSettings:l=>{g.debug(l)}}),e.jsx(V,{label:"Padding bottom",textField:{cssValue:r.inlineEditing.spacing.fieldBottom,cssUnit:r.inlineEditing.spacing.fieldBottomUnit},defaultValue:{cssValue:B.table.inlineEditing.spacing.fieldBottom,cssUnit:B.table.inlineEditing.spacing.fieldBottomUnit},updateSettings:l=>{g.debug(l)}}),e.jsx(V,{label:"Padding left",textField:{cssValue:r.inlineEditing.spacing.fieldLeft,cssUnit:r.inlineEditing.spacing.fieldLeftUnit},defaultValue:{cssValue:B.table.inlineEditing.spacing.fieldLeft,cssUnit:B.table.inlineEditing.spacing.fieldLeftUnit},updateSettings:l=>{g.debug(l)}}),e.jsx(V,{label:"Padding right",textField:{cssValue:r.inlineEditing.spacing.fieldRight,cssUnit:r.inlineEditing.spacing.fieldRightUnit},defaultValue:{cssValue:B.table.inlineEditing.spacing.fieldRight,cssUnit:B.table.inlineEditing.spacing.fieldRightUnit},updateSettings:l=>{g.debug(l)}})]}),e.jsx(t,{children:"Space added to inline fields"})]}),e.jsx(_,{single:!1})]})]})},ze=({appId:r,metaData:s})=>{g.debug(r);const o=Q(),i=X(r),l=$(r),d=l==null?void 0:l.table,p=l==null?void 0:l.columns,x=I.useMemo(()=>p.filter(n=>n.computedField!==void 0),[p]);g.debug("storeColumnSettings",x);const h=I.useMemo(()=>{const n=p.map(c=>c.columnName);return g.debug(n),s.primary_key.length>0&&s.primary_key.filter(c=>n.includes(c)).length===s.primary_key.length},[p,s.primary_key]);g.debug("hasPrimaryKey",h);const m=(n,c,C)=>{const[y,...H]=c.split(".");return{...n,[y]:H.length?m(n[y],H.join("."),C):C}},j=(n,c)=>{g.debug(n,c);const C=m(d,n,c);g.debug(C),o(J({appId:r,tableSettings:C})),i(!0)};return e.jsxs(e.Fragment,{children:[e.jsx(ie,{appId:r,tableSettings:d,metaData:s,updateTableSettings:j}),e.jsx(je,{tableSettings:d,updateTableSettings:j}),e.jsx(he,{tableSettings:d,updateTableSettings:j}),e.jsx(te,{tableSettings:d,updateTableSettings:j}),e.jsx(ae,{hasPrimaryKey:h,tableSettings:d,metaData:s,updateTableSettings:j}),e.jsx(ue,{appId:r,tableSettings:d,metaData:s,updateTableSettings:j}),W(r)&&e.jsxs(e.Fragment,{children:[e.jsx(pe,{tableSettings:d,updateTableSettings:j}),e.jsx(xe,{tableSettings:d,tableColumns:p,updateTableSettings:j})]}),e.jsx(fe,{tableSettings:d,updateTableSettings:j}),e.jsx(de,{tableSettings:d,updateTableSettings:j}),e.jsx(ce,{tableSettings:d,updateTableSettings:j}),e.jsx(ge,{tableSettings:d,updateTableSettings:j,metaData:s})]})};export{ze as default};
